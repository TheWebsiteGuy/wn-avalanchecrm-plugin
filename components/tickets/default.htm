{% set user = user %}

{{ themeStyles|raw }}

<div class="tickets-wrapper" id="tickets-wrapper">

    {% if not user %}
        <div class="tickets-alert tickets-alert--warning">
            <p>Please <a href="{{ 'account'|page }}">sign in</a> to view your tickets.</p>
        </div>
    {% elseif not client %}
        <div class="tickets-alert tickets-alert--warning">
            <p>No client profile is associated with your account. Please contact support.</p>
        </div>
    {% else %}

        {# Flash Messages #}
        {% flash %}
            <div class="tickets-alert tickets-alert--{{ type }}">
                {{ message }}
            </div>
        {% endflash %}

        {# Create Ticket View #}
        <div id="tickets-create">
            {# Populated via AJAX #}
        </div>

        {# Ticket Detail View #}
        <div id="tickets-detail">
            {% if activeTicket %}
                {% partial __SELF__ ~ '::detail' %}
            {% endif %}
        </div>

        {# Ticket List View #}
        <div id="tickets-list">
            {% if not activeTicket %}
                {% partial __SELF__ ~ '::list' %}
            {% endif %}
        </div>

    {% endif %}

</div>
